body { margin: 0; padding: 0; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; display: flex; height: 100vh; background-color: #f4f7f6; }

        /* Sidebar Styling */
        #sidebar { width: 350px; background-color: #ffffff; box-shadow: 2px 0 5px rgba(0,0,0,0.1); display: flex; flex-direction: column; z-index: 1000; overflow-y: auto; }
        .header { background-color: #1a252f; color: white; padding: 20px; text-align: center; }
        .header h2 { margin: 0; font-size: 22px; letter-spacing: 1px; }
        .header p { margin: 5px 0 0 0; font-size: 12px; color: #bdc3c7; }
        .control-panel { padding: 20px; }

        /* Buttons & Inputs */
        .btn-wrapper { margin-bottom: 5px; position: relative; width: 100%; display: block; }
        .btn { border: 2px solid #3498db; color: #3498db; background-color: white; padding: 10px; border-radius: 6px; font-size: 14px; font-weight: bold; width: 100%; cursor: pointer; transition: 0.3s; text-align: center; }
        .btn:hover { background-color: #f0f8ff; }
        
        .upload-wrapper input[type=file] { position: absolute; left: 0; top: 0; opacity: 0; cursor: pointer; height: 100%; width: 100%; }

        .btn-gps { border-color: #27ae60; color: #27ae60; margin-bottom: 10px; width: 100%; padding: 8px;}
        .btn-gps:hover { background-color: #eafaf1; }

        .geojson-panel { background: #f9f9f9; padding: 12px; border-radius: 6px; border: 1px solid #eee; margin-bottom: 15px; }
        .geojson-input { width: 100%; padding: 8px; box-sizing: border-box; border: 1px solid #bdc3c7; border-radius: 4px; margin-bottom: 10px; font-size: 13px;}
        .btn-geojson { border-color: #8e44ad; color: #8e44ad; padding: 8px; margin-bottom: 10px; width: 100%;}
        .btn-geojson:hover { background-color: #f5eef8; }
        .btn-nav { border-color: #16a085; color: #16a085; padding: 8px; width: 100%;}
        .btn-nav:hover { background-color: #e8f8f5; }

        .btn-kmz { border-color: #e67e22; color: #fff; background-color: #e67e22; margin-top: 15px; width: 100%; padding: 12px; font-size: 15px;}
        .btn-kmz:hover { background-color: #d35400; color: #fff; border-color: #d35400; }

        .btn-print { border-color: #2c3e50; color: #fff; background-color: #2c3e50; margin-top: 10px; width: 100%; padding: 12px; font-size: 15px;}
        .btn-print:hover { background-color: #1a252f; border-color: #1a252f; }

        /* Style Controls */
        .style-controls { display: flex; gap: 10px; align-items: center; font-size: 11px; color: #34495e; margin-bottom: 15px; }
        .style-group { display: flex; flex-direction: column; flex: 1; }
        .style-group input[type="color"] { width: 100%; height: 25px; border: 1px solid #ccc; border-radius: 4px; padding: 0; cursor: pointer; }
        .style-group input[type="range"] { width: 100%; margin-top: 5px; cursor: pointer; }

        /* Divider */
        hr.divider { border: 0; border-top: 2px solid #ecf0f1; margin: 20px 0; }

        /* Statistics Cards */
        .stat-card { background-color: #f8f9fa; border-left: 4px solid #3498db; padding: 12px; margin-bottom: 12px; border-radius: 4px; }
        .stat-card.red { border-left-color: #e74c3c; }
        .stat-card.orange { border-left-color: #e67e22; }
        .stat-title { font-size: 11px; color: #7f8c8d; text-transform: uppercase; font-weight: bold; }
        .stat-value { font-size: 20px; color: #2c3e50; font-weight: bold; margin-top: 4px; }

        /* Map Container */
        #map { flex-grow: 1; height: 100%; position: relative; }

        /* Custom Popup Styling */
        .custom-popup .leaflet-popup-content-wrapper { border-radius: 8px; }
        .popup-title { font-weight: bold; color: #c0392b; border-bottom: 1px solid #eee; padding-bottom: 5px; margin-bottom: 5px; }
        .popup-row { margin-bottom: 4px; font-size: 13px; }
        .popup-row strong { color: #2c3e50; }
        .coord-box { background: #ecf0f1; padding: 3px 6px; border-radius: 4px; font-family: monospace; display: inline-block; font-size: 12px; color: #d35400; font-weight: bold; margin-bottom: 5px; border: 1px solid #bdc3c7;}

        /* Legend Styling */
        .info.legend { background: white; padding: 12px 15px; font-size: 12px; line-height: 20px; color: #333; box-shadow: 0 0 15px rgba(0,0,0,0.2); border-radius: 5px; border: 2px solid #bdc3c7; }
        .info.legend h4 { margin: 0 0 8px 0; font-size: 14px; color: #2c3e50; text-transform: uppercase; }
        .info.legend i { width: 14px; height: 14px; float: left; margin-right: 8px; margin-top: 3px; opacity: 0.9; }
        .legend-circle { border-radius: 50%; border: 1px solid #000; }
        .legend-box { border: 1.5px solid #000; }

        /* A4 PDF PRINT STYLES */
        #print-header { display: none; }
        @media print {
            @page { size: A4 landscape; margin: 0; }
            body, html { width: 297mm; height: 209mm; margin: 0; padding: 0; overflow: hidden !important; }
            * { -webkit-print-color-adjust: exact !important; print-color-adjust: exact !important; }
            #sidebar { display: none !important; }
            .leaflet-control-zoom, .leaflet-control-layers { display: none !important; }
            #map { position: absolute !important; top: 0; left: 0; width: 297mm !important; height: 209mm !important; }
            #print-header { display: block; position: absolute; top: 15mm; left: 50%; transform: translateX(-50%); background: rgba(255, 255, 255, 0.95); padding: 10px 25px; border-radius: 8px; border: 2px solid #2c3e50; text-align: center; z-index: 10000; }
            .info.legend { position: absolute !important; bottom: 15mm !important; right: 15mm !important; box-shadow: none !important; border: 2px solid #333 !important; }
        }